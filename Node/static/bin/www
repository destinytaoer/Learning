#! /usr/bin/env node

let yargs = require('yargs')
let Server = require('../src/app.js')
let argv = yargs.option('d', {
  alias: 'root',
  demand: 'false',
  type: 'string',
  default: process.cwd(),
  description: '静态文件根目录'
}).option('o', {
  alias: 'host',
  demand: 'false',
  type: 'string',
  default: 'localhost',
  description: '配置监听的主机'
}).option('p', {
  alias: 'port',
  demand: 'false',
  type: 'number',
  default: '8080',
  description: '配置监听的端口号'
})
.usage('server [options]')
.example('server -d / -p 9090 -o localhost', '在本地的 9090 端口上监听客户端的请求')
.help('h').argv;

let server = new Server(argv);
server.start(); // 启动服务